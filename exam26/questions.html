<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gaith Team | Exam</title>

<style>
:root{
  --primary:#0284c7;
  --secondary:#0ea5e9;
  --bg:#f8fbff;
  --card:#ffffff;
  --soft:#e6f0ff;
  --question:#eef7ff;
  --option:#f9fcff;
  --success:#16a34a;
  --danger:#dc2626;
  --text:#0f172a;

  /* Brand dynamic */
  --brand1:#ffffff;
  --brand2:#e0f2fe;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Segoe UI",Tahoma,Arial,sans-serif;
  background:linear-gradient(180deg,var(--bg),#eef6ff);
  color:var(--text);
}

/* ================= HEADER ================= */
header{
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  color:#fff;
  padding:18px;
  text-align:center;
  overflow:hidden;
}

/* ===== Brand ===== */
.logo{
  position:relative;
  font-size:28px;
  font-weight:900;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.brand-text{
  background:linear-gradient(90deg,var(--brand1),var(--brand2),var(--brand1));
  background-size:200% auto;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shine 4s linear infinite;
}
@keyframes shine{
  0%{background-position:0%}
  100%{background-position:200%}
}

.heart{
  display:inline-block;
  animation:heartbeat 1.6s infinite ease-in-out;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  50%{transform:scale(1.25)}
  100%{transform:scale(1)}
}

/* Sparkles */
.sparkle{
  position:absolute;
  font-size:14px;
  animation:twinkle 3s infinite ease-in-out;
}
@keyframes twinkle{
  0%{opacity:0;transform:scale(.6)}
  50%{opacity:1;transform:scale(1.2)}
  100%{opacity:0;transform:scale(.6)}
}

/* Reduced motion أثناء الامتحان */
.exam .sparkle{animation-duration:5s;opacity:.4}
.exam .heart{animation-duration:2.5s}

/* After exam */
.after .sparkle{animation-duration:2s}
.after .heart{animation-duration:1.1s}

/* ================= LAYOUT ================= */
.container{max-width:520px;margin:auto;padding:16px}

/* ===== Top Bar ===== */
.top-bar{
  display:flex;
  gap:12px;
  margin-bottom:16px;
}
.progress-box{
  flex:1;
  background:var(--card);
  padding:14px;
  border-radius:18px;
  box-shadow:0 10px 22px rgba(2,132,199,.12);
}
.progress-text{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:6px;
  font-weight:800;
  font-size:14px;
}
.progress{
  height:8px;
  background:var(--soft);
  border-radius:10px;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
}

/* Timer */
.timer{
  width:64px;height:64px;border-radius:50%;
  background:conic-gradient(var(--primary) 0deg,var(--soft) 0deg);
  display:flex;align-items:center;justify-content:center;
  font-weight:900;font-size:14px;
  background-color:var(--card);
}

/* ================= CARD ================= */
.card{
  background:var(--card);
  padding:22px;
  border-radius:24px;
  box-shadow:0 18px 36px rgba(2,132,199,.18);
}
.question-title{
  background:var(--question);
  padding:16px;
  border-radius:16px;
  font-weight:900;
  margin-bottom:16px;
}
.option{
  background:var(--option);
  border:2px solid var(--soft);
  border-radius:18px;
  padding:15px;
  margin:12px 0;
  font-weight:700;
  cursor:pointer;
}
.option.correct{background:#eafaf1;border-color:var(--success)}
.option.wrong{background:#fff1f1;border-color:var(--danger)}
.option.disabled{pointer-events:none;opacity:.9}

button{
  margin-top:18px;
  width:100%;
  padding:15px;
  border:none;
  border-radius:20px;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  color:#fff;
  font-weight:900;
}

/* Feedback */
.feedback{
  text-align:center;
  font-size:22px;
  margin-bottom:10px;
  animation:pop .5s;
}
@keyframes pop{
  0%{transform:scale(.6);opacity:0}
  100%{transform:scale(1);opacity:1}
}

/* Report */
.report{
  background:var(--card);
  padding:14px;
  border-radius:14px;
  margin:10px 0;
  border-left:6px solid var(--soft);
}
.report.correct{border-color:var(--success)}
.report.wrong{border-color:var(--danger)}
</style>
</head>

<body class="exam">

<header>
  <div class="logo">
    <span class="brand-text">Gaith Team</span>
    <span class="heart">💖</span>
    <span class="sparkle" style="top:-8px;left:0">✨</span>
    <span class="sparkle" style="top:6px;right:-8px">✨</span>
    <span class="sparkle" style="bottom:-8px;left:50%">✨</span>
  </div>
  <div style="margin-top:6px;font-weight:800">الإمتحان في جيبك 👏🏻</div>
</header>

<div class="container">

  <div class="top-bar">
    <div class="progress-box">
      <div class="progress-text">
        <span id="progressText"></span>
        <span>
          ✔️ <span id="correctCount">0</span> |
          ❌ <span id="wrongCount">0</span> |
          ⏳ <span id="remainPercent">100%</span>
        </span>
      </div>
      <div class="progress">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>
    <div class="timer" id="timer">05:00</div>
  </div>

  <div id="app"></div>
</div>

<script>
/* ===== Questions ===== */
let questions = [

            {t:"What is the primary purpose of Simulation-Based Learning (SBL) in nursing education?",o:["To replace clinical practice entirely","To replicate real-life clinical situations in a safe environment","To reduce the number of faculty members needed","To focus solely on theoretical knowledge"],a:1},
            {t:"Which type of simulation involves advanced mannequins with physiological responses?",o:["Low-Fidelity Simulation","Medium-Fidelity Simulation","High-Fidelity Simulation","Virtual Simulation"],a:2},
            {t:"According to Kolb’s cycle, which stage follows 'Experience' in simulation?",o:["Application","Conceptualization","Reflection","Evaluation"],a:2},
            {t:"What is the main focus of the 'Pre-briefing' component in a simulation session?",o:["Structured reflection after the scenario","Orientation to objectives, roles, and equipment","Grading the students' performance","Managing technical issues"],a:1},
            {t:"Which educational foundation emphasizes that knowledge is best acquired in context?",o:["Adult Learning Theory","Experiential Learning","Situated Cognition","Behavioral Theory"],a:2},
            {t:"In the context of SBL, what does 'High-Fidelity' refer to?",o:["Basic models for hand hygiene","Role-play without technology","Realistic mannequins with integrated software","Computer-based decision-making scenarios"],a:2},
            {t:"Which of the following is a benefit of 'Error Management' in simulation?",o:["Students are punished for mistakes","Learners can make mistakes safely and learn from them","It eliminates the need for debriefing","It ensures that no mistakes are ever made in real practice"],a:1},
            {t:"What is the role of 'Standardized Patients' in nursing simulation?",o:["They are high-tech mannequins","They are actors trained to portray patients consistently","They are students who observe the simulation","They are virtual reality avatars"],a:1},
            {t:"Which component of a simulation session involves emotional processing and professional growth?",o:["Pre-briefing","Scenario Execution","Debriefing","Evaluation"],a:2},
            {t:"What is a common challenge in implementing SBL?",o:["Low cost of equipment","Excessive faculty training","Student anxiety","Lack of realistic scenarios"],a:2},
            {t:"Which step comes first in designing effective simulation activities?",o:["Develop the Scenario","Define Learning Objectives","Prepare Equipment","Conduct Debriefing"],a:1},
            {t:"In the sample scenario for COPD, what is a primary objective?",o:["Performing a surgical procedure","Assessing respiratory status","Managing a pediatric patient","Conducting a mental health assessment"],a:1},
            {t:"Adult Learning Theory suggests that adults prefer learning that is:",o:["Theoretical and abstract","Practical and problem-solving oriented","Passive and lecture-based","Focused on rote memorization"],a:1},
            {t:"Which type of simulation is best suited for practicing vital signs or hand hygiene?",o:["High-Fidelity","Virtual Simulation","Low-Fidelity","Standardized Patients"],a:2},
            {t:"What does 'Experiential Learning' mean in the context of simulation?",o:["Learning through reading textbooks","Learning through doing and reflection","Learning through watching videos","Learning through listening to lectures"],a:1},
            {t:"Which of the following is NOT a key characteristic of SBL?",o:["Safe and controlled","Reflective","Realistic","Purely theoretical"],a:3},
            {t:"What is the purpose of 'Evaluation' in a simulation session?",o:["To set expectations for the scenario","To assess clinical performance and decision-making","To provide emotional support to students","To fix technical issues with mannequins"],a:1},
            {t:"Which simulation type uses computer-based scenarios for interactive decision-making?",o:["Medium-Fidelity","Virtual Simulation","Standardized Patients","Low-Fidelity"],a:1},
            {t:"How can faculty training challenges be addressed in SBL?",o:["By reducing the number of simulations","Through workshops and peer mentoring","By hiring external actors only","By using only low-fidelity models"],a:1},
            {t:"What is a key benefit of 'Critical Thinking' in simulation?",o:["It allows for slower decision-making","It promotes rapid decision-making under pressure","It focuses on memorizing facts","It discourages teamwork"],a:1},
            {t:"Which component sets the 'psychological safety' for students?",o:["Scenario Execution","Debriefing","Pre-briefing","Evaluation"],a:2},
            {t:"What is the 'Solution' for the challenge of 'High Cost' in simulation?",o:["Stop using high-fidelity mannequins","Use blended models and prioritize high-impact scenarios","Increase student fees significantly","Use only standardized patients"],a:1},
            {t:"In the COPD scenario, which material is specifically mentioned?",o:["Surgical kit","High-fidelity mannequin","Pediatric crib","Mental health assessment tool"],a:1},
            {t:"Which of the following is an example of 'Medium-Fidelity Simulation'?",o:["Role-play for communication","Administering injections on basic mannequins","Managing cardiac arrest on advanced mannequins","Virtual reality surgery"],a:1},
            {t:"What is the final stage of Kolb’s cycle as applied to simulation?",o:["Experience","Reflection","Conceptualization","Application"],a:3},
            {t:"Why is 'Emotional Preparedness' important in nursing simulation?",o:["To make students less empathetic","To expose students to stress and ethical dilemmas safely","To ensure students never feel stress","To replace real-world emotional experiences"],a:1},
            {t:"Which step in designing simulation involves including patient data and lab results?",o:["Define Learning Objectives","Develop the Scenario","Prepare Equipment","Evaluate Performance"],a:1},
            {t:"What does 'Situated Cognition' imply for nursing education?",o:["Learning is independent of the environment","Knowledge is best acquired in the context where it will be used","Theory should always precede practice","Classroom learning is superior to simulation"],a:1},
            {t:"Which of the following is a characteristic of 'Debriefing'?",o:["It happens before the scenario","It is a structured reflection led by the instructor","It involves setting up the equipment","It is only for grading purposes"],a:1},
            {t:"What is the 'Example Scenario' for High-Fidelity Simulation?",o:["Practicing hand hygiene","Administering injections","Managing cardiac arrest or labor delivery","Conducting mental health assessments"],a:2},
            {t:"Which benefit refers to students feeling more prepared for real patient care?",o:["Skill Mastery","Clinical Confidence","Error Management","Critical Thinking"],a:1},
            {t:"What is a recommended solution for 'Technical Issues' in simulation?",o:["Ignore them during the session","Ensure regular maintenance and backup plans","Use only low-tech equipment","Let the students fix the issues"],a:1},
            {t:"Ethical considerations in simulation include:",o:["Ignoring cultural beliefs","Addressing dilemmas like informed consent and end-of-life care","Using only one type of patient population","Focusing only on technical skills"],a:1},
            {t:"What is the 'Activity' mentioned in the COPD sample scenario?",o:["Writing a research paper","Team-based simulation and role-play","Watching a documentary on COPD","Attending a lecture on respiratory drugs"],a:1},
            {t:"Which of the following is a 'Key Characteristic' of SBL?",o:["Uncontrolled environment","Experiential learning","Theoretical focus","Passive observation"],a:1},
            {t:"In SBL, 'Reflective' learning primarily occurs during:",o:["Pre-briefing","Scenario Execution","Debriefing","Equipment preparation"],a:2},
            {t:"Which type of simulation is described as 'Basic models or role-play without technology'?",o:["Low-Fidelity","Medium-Fidelity","High-Fidelity","Virtual Simulation"],a:0},
            {t:"What is the 'Description' for 'Skill Mastery' as a benefit?",o:["Feeling more prepared","Repeated practice improves psychomotor and cognitive skills","Learning from mistakes safely","Enhancing leadership"],a:1},
            {t:"Which foundation of simulation emphasizes 'autonomy and immediate feedback'?",o:["Experiential Learning","Adult Learning Theory","Situated Cognition","Behavioral Theory"],a:1},
            {t:"What is the 'Solution' for 'Assessment Complexity'?",o:["Use simple pass/fail grades","Use structured rubrics and multi-source feedback","Avoid assessing students during simulation","Only use self-assessment"],a:1},
            {t:"In the COPD scenario, the patient is:",o:["A 20-year-old female","A 60-year-old male","A 40-year-old male","An 80-year-old female"],a:1},
            {t:"Which component involves students responding to patient cues?",o:["Pre-briefing","Scenario Execution","Debriefing","Evaluation"],a:1},
            {t:"What is the 'Description' for 'Virtual Simulation'?",o:["Actors portraying patients","Computer-based scenarios with interactive decision-making","Advanced mannequins with software","Basic models for vital signs"],a:1},
            {t:"Which of the following is a 'Benefit' related to 'Teamwork'?",o:["Skill Mastery","Clinical Confidence","Teamwork and Communication","Critical Thinking"],a:2},
            {t:"What is the 'Step' after 'Prepare Equipment and Roles' in designing simulation?",o:["Define Learning Objectives","Develop the Scenario","Facilitate the Simulation","Conduct Debriefing"],a:2},
            {t:"'Experiential' learning in SBL means:",o:["Learning by listening","Learning by doing","Learning by reading","Learning by watching"],a:1},
            {t:"Which of the following is an 'Ethical and Cultural Consideration'?",o:["Promoting respectful communication and empathy","Using only English-speaking mannequins","Avoiding difficult topics like end-of-life care","Focusing only on the physical needs of the patient"],a:0},
            {t:"What is the 'Description' for 'Low-Fidelity Simulation'?",o:["Advanced mannequins","Basic models or role-play without technology","Computer-based scenarios","Actors as patients"],a:1},
            {t:"Which component of SBL includes 'Orientation to objectives'?",o:["Pre-briefing","Scenario Execution","Debriefing","Evaluation"],a:0},
            {t:"What is the 'Benefit' of 'Error Management'?",o:["It prevents all errors","It allows learners to make mistakes safely","It focuses on technical skills only","It reduces the need for faculty"],a:1},
            {t:"Which 'Step' involves using checklists and rubrics?",o:["Define Learning Objectives","Develop the Scenario","Evaluate Performance","Facilitate the Simulation"],a:2},
            {t:"'Situated Cognition' suggests that learning is:",o:["Abstract","Authentic when replicated in clinical environments","Best done in a library","Independent of context"],a:1},
            {t:"What is the 'Example Scenario' for Virtual Simulation?",o:["Practicing hand hygiene","Administering injections","Diagnosing and treating a virtual patient","Managing cardiac arrest"],a:2},
            {t:"Which of the following is a 'Challenge' in SBL?",o:["High Cost","Faculty Training","Student Anxiety","All of the above"],a:3},
            {t:"The 'Debriefing' phase encourages:",o:["Technical maintenance","Emotional processing and professional growth","Setting learning objectives","Preparing equipment"],a:1},
            {t:"Simulation-Based Learning (SBL) allows nursing students to practice without risking patient safety.",o:["True","False"],a:0},
            {t:"Low-fidelity simulation involves the use of advanced mannequins with physiological responses.",o:["True","False"],a:1},
            {t:"Kolb’s Experiential Learning cycle includes four stages: experience, reflection, conceptualization, and application.",o:["True","False"],a:0},
            {t:"Pre-briefing is the phase where students reflect on their performance after the simulation is over.",o:["True","False"],a:1},
            {t:"Situated Cognition theory suggests that knowledge is best acquired in isolation from its context.",o:["True","False"],a:1},
            {t:"Debriefing is a structured reflection led by the instructor to discuss what happened and how to improve.",o:["True","False"],a:0},
            {t:"One of the benefits of SBL is that it allows learners to make mistakes safely.",o:["True","False"],a:0},
            {t:"High-fidelity simulation is typically used for basic skills like hand hygiene.",o:["True","False"],a:1},
            {t:"Adult Learning Theory posits that adults prefer theoretical learning over practical problem-solving.",o:["True","False"],a:1},
            {t:"Standardized Patients are actors trained to portray patients consistently for educational purposes.",o:["True","False"],a:0},
            {t:"The 'Scenario Execution' phase is where students engage in the simulation and make decisions.",o:["True","False"],a:0},
            {t:"Simulation-Based Learning is only useful for technical skills and does not address emotional or ethical dimensions.",o:["True","False"],a:1},
            {t:"Faculty training is a common challenge in implementing simulation-based nursing education.",o:["True","False"],a:0},
            {t:"Virtual simulation involves computer-based scenarios with interactive decision-making.",o:["True","False"],a:0},
            {t:"Evaluation in SBL only includes instructor grading and excludes self-assessment or peer feedback.",o:["True","False"],a:1}

];

// تعريف المتغيرات الناقصة
let i = 0;
let correct = 0;
let wrong = 0;
let answers = [];
let wrongSet = [];

/* ===== Timer ===== */
let totalTime=120*60, timeLeft=totalTime;
const timerInt=setInterval(()=>{
  timeLeft--;
  let m=Math.floor(timeLeft/60), s=timeLeft%60;
  timer.innerText=`${m}:${s<10?"0":""}${s}`;
  let deg=(timeLeft/totalTime)*360;
  timer.style.background=`conic-gradient(var(--primary) ${deg}deg,var(--soft) ${deg}deg)`;
  if(timeLeft<=0){clearInterval(timerInt);finishExam();}
},1000);

/* ===== UI ===== */
function updateTop(){
  let total=questions.length;
  let answered=correct+wrong;
  progressText.innerText=`سؤال ${i+1} من ${total}`;
  progressBar.style.width=((i+1)/total*100)+"%";
  correctCount.innerText=correct;
  wrongCount.innerText=wrong;
  remainPercent.innerText=Math.round(((total-answered)/total)*100)+"%";
}

/* ===== Render ===== */
function show(){
  updateTop();
  let q = questions[i];

  app.innerHTML = `
    <div class="card">
      <div class="question-title">${q.t}</div>
      ${q.o.map((o,idx)=>`
        <div class="option" onclick="choose(${idx})">${o}</div>
      `).join("")}
    </div>
  `;
}
/* ===== Choose ===== */
function choose(v){
  if(answers[i]!=null) return;
  answers[i]=v;
  let ok=v===questions[i].a;
  ok?correct++:wrong++;
  app.innerHTML=`
    <div class="feedback">${ok?"🎉 شاطر جدًا كمل":"😅 ركّز يا سُكر"}</div>
    <div class="card">
      <div class="question-title">${questions[i].t}</div>
      ${questions[i].o.map((o,j)=>`
        <div class="option ${j===questions[i].a?"correct":j===v?"wrong":""} disabled">${o}</div>
      `).join("")}
      <button onclick="next()">التالي</button>
    </div>`;
}

/* ===== Next ===== */
function next(){
  if(i<questions.length-1){i++;show();}
  else finishExam();
}

/* ===== Finish ===== */
function finishExam(){
  document.body.classList.remove("exam");
  document.body.classList.add("after");

  let score=Math.round((correct/questions.length)*100);

  if(score>=80){
    document.documentElement.style.setProperty("--brand1","#22c55e");
    document.documentElement.style.setProperty("--brand2","#fde047");
  }else if(score>=50){
    document.documentElement.style.setProperty("--brand1","#38bdf8");
    document.documentElement.style.setProperty("--brand2","#e0f2fe");
  }else{
    document.documentElement.style.setProperty("--brand1","#fb923c");
    document.documentElement.style.setProperty("--brand2","#fed7aa");
  }

  wrongSet=[];
  let report="";
  questions.forEach((q,idx)=>{
    let ok=answers[idx]===q.a;
    if(!ok) wrongSet.push(q);
    report+=`
      <div class="report ${ok?"correct":"wrong"}">
        <b>${q.t}</b><br>
إجابتك: ${answers[idx]!=null ? q.o[answers[idx]] : "لم يتم الحل"}<br>
الصح: ${q.o[q.a]}
      </div>`;
  });

  app.innerHTML=`
    <div class="card">
      <h3>?? تقريرك</h3>
      ${report}
      ${wrongSet.length?`<button onclick="retry()">إعادة حل الغلط فقط</button>`:"<p>أنت ممتاز 👑</p>"}
    </div>`;
}

/* ===== Retry Wrong ===== */
function retry(){
  // نبدأ امتحان جديد بالأسئلة الغلط فقط
  questions = [...wrongSet];

  answers = [];
  wrongSet = [];
  i = 0;
  correct = 0;
  wrong = 0;

  // رجوع لشكل الامتحان
  document.body.classList.remove("after");
  document.body.classList.add("exam");

  show();
}

show();
</script>

</body>

</html>
