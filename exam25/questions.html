import React, { useState } from 'react';
import { ChevronLeft, ChevronRight, RotateCcw, BookOpen } from 'lucide-react';

const FlashcardApp = () => {
  const [currentCard, setCurrentCard] = useState(0);
  const [isFlipped, setIsFlipped] = useState(false);
  const [showAnswer, setShowAnswer] = useState(false);

  const flashcards = [
    {
      question: "What is Simulation-Based Learning and why is it essential in nursing education?",
      answer: "SBL is a dynamic educational strategy that replicates real-life clinical situations in a controlled, safe environment. It's essential because it allows nursing students to practice clinical skills, make decisions, and experience emotional and ethical dimensions of patient care without risking patient safety. It bridges the gap between theory and practice in increasingly complex healthcare.",
      color: "from-purple-400 to-pink-400"
    },
    {
      question: "Describe the four key characteristics of Simulation-Based Learning.",
      answer: "1) Safe and controlled - No harm to real patients\n2) Experiential - Learning through doing\n3) Reflective - Includes debriefing and feedback\n4) Realistic - Replicates clinical complexity and urgency",
      color: "from-blue-400 to-cyan-400"
    },
    {
      question: "Compare and contrast High-Fidelity and Low-Fidelity simulation. Give examples.",
      answer: "Low-Fidelity: Basic models or role-play without technology (e.g., practicing hand hygiene or vital signs).\n\nHigh-Fidelity: Advanced mannequins with physiological responses and integrated software (e.g., managing cardiac arrest or labor delivery).\n\nKey difference: technological complexity and realism of patient responses.",
      color: "from-green-400 to-teal-400"
    },
    {
      question: "Explain how Kolb's Experiential Learning Theory applies to simulation.",
      answer: "Simulation follows Kolb's cycle of experiential learning:\n1) Experience - Students engage in the simulation\n2) Reflection - Debriefing after the scenario\n3) Conceptualization - Understanding principles\n4) Application - Using learned skills in practice\n\nStudents learn through direct experience, then reflect and apply knowledge.",
      color: "from-yellow-400 to-orange-400"
    },
    {
      question: "What are the four essential components of a simulation session? Describe each briefly.",
      answer: "1) Pre-briefing: Orientation to objectives, roles, equipment; sets expectations and psychological safety\n2) Scenario Execution: Students engage, respond to cues, make decisions\n3) Debriefing: Structured reflection discussing what happened, why, and how to improve\n4) Evaluation: Assessment of clinical performance, teamwork, and decision-making",
      color: "from-red-400 to-pink-400"
    },
    {
      question: "Why is debriefing considered the most important part of simulation? What happens during it?",
      answer: "Debriefing is crucial because it's where deep learning occurs through structured reflection led by the instructor. During debriefing:\n- Discussion of what happened and why\n- Analysis of how to improve\n- Emotional processing\n- Professional growth encouragement\n\nIt transforms experience into learning and understanding.",
      color: "from-indigo-400 to-purple-400"
    },
    {
      question: "Discuss three major benefits of Simulation-Based Learning in nursing education.",
      answer: "1) Skill Mastery: Repeated practice improves psychomotor and cognitive skills\n2) Error Management: Learners can make mistakes safely and learn from them\n3) Critical Thinking: Promotes rapid decision-making under pressure\n\nAdditional benefits include clinical confidence, teamwork enhancement, and emotional preparedness.",
      color: "from-pink-400 to-rose-400"
    },
    {
      question: "What are the main challenges of implementing simulation and their solutions?",
      answer: "1) High Cost → Use blended models and prioritize high-impact scenarios\n2) Faculty Training → Provide workshops and peer mentoring\n3) Student Anxiety → Use pre-briefing and supportive feedback\n4) Technical Issues → Ensure regular maintenance and backup plans\n5) Assessment Complexity → Use structured rubrics and multi-source feedback",
      color: "from-cyan-400 to-blue-400"
    },
    {
      question: "Explain what Standardized Patients are and give an example of their use.",
      answer: "Standardized Patients are actors trained to portray patients consistently and realistically. They provide authentic human interaction that mannequins cannot.\n\nExample: Using standardized patients for conducting mental health assessments, where communication skills, empathy, and therapeutic relationships are crucial.",
      color: "from-teal-400 to-green-400"
    },
    {
      question: "How does Adult Learning Theory support the use of simulation in nursing education?",
      answer: "Adult Learning Theory states that adults prefer:\n- Practical, problem-solving learning\n- Relevance to their work\n- Autonomy in learning\n- Immediate feedback\n\nSimulation provides all these elements: it's hands-on, directly relevant to clinical practice, allows independent decision-making, and provides instant feedback through debriefing.",
      color: "from-orange-400 to-red-400"
    },
    {
      question: "Describe the six steps for designing an effective simulation activity.",
      answer: "1) Define Learning Objectives (clear, measurable goals)\n2) Develop the Scenario (patient data, vital signs, complications)\n3) Prepare Equipment and Roles (mannequins, monitors, team assignments)\n4) Facilitate the Simulation (allow students to lead care)\n5) Conduct Debriefing (structured reflection)\n6) Evaluate Performance (checklists, rubrics, reflective writing)",
      color: "from-violet-400 to-purple-400"
    },
    {
      question: "What is Virtual Simulation and how does it differ from mannequin-based simulation?",
      answer: "Virtual Simulation uses computer-based scenarios with interactive decision-making (e.g., diagnosing and treating a virtual patient).\n\nDifferences from mannequin-based:\n- No physical equipment needed\n- Can reach more students simultaneously\n- Less expensive\n- Different psychomotor skill development\n- May lack hands-on tactile experience",
      color: "from-lime-400 to-green-400"
    },
    {
      question: "Why is 'psychological safety' important in simulation, and how is it established?",
      answer: "Psychological safety is crucial because students need to feel safe making mistakes without judgment for effective learning.\n\nEstablished through:\n- Pre-briefing that sets clear expectations\n- Creating a supportive environment\n- Emphasizing learning over performance\n- Supportive feedback during debriefing\n- Confidentiality agreements\n\nThis reduces anxiety and encourages risk-taking and learning.",
      color: "from-fuchsia-400 to-pink-400"
    },
    {
      question: "Explain what 'Situated Cognition' means and its relevance to simulation.",
      answer: "Situated Cognition theory states that knowledge is best acquired in the context where it will be used.\n\nRelevance to simulation:\n- Simulation replicates clinical environments\n- Makes learning authentic and contextual\n- Students learn in settings similar to real practice\n- Enhances transfer of knowledge to actual clinical settings\n\nLearning becomes more meaningful when situated in realistic contexts.",
      color: "from-sky-400 to-blue-400"
    },
    {
      question: "Discuss ethical and cultural considerations in simulation design.",
      answer: "Ethical considerations:\n- Include ethical dilemmas like informed consent and end-of-life care\n- Address cultural beliefs respectfully\n- Ensure diverse patient population representation\n\nCultural considerations:\n- Reflect diversity in scenarios\n- Promote respectful communication\n- Develop empathy for different backgrounds\n- Prepare students for multicultural healthcare environments",
      color: "from-rose-400 to-red-400"
    }
  ];

  const handleNext = () => {
    setIsFlipped(false);
    setShowAnswer(false);
    setCurrentCard((prev) => (prev + 1) % flashcards.length);
  };

  const handlePrev = () => {
    setIsFlipped(false);
    setShowAnswer(false);
    setCurrentCard((prev) => (prev - 1 + flashcards.length) % flashcards.length);
  };

  const handleFlip = () => {
    setIsFlipped(!isFlipped);
    setTimeout(() => setShowAnswer(!showAnswer), 300);
  };

  const handleReset = () => {
    setCurrentCard(0);
    setIsFlipped(false);
    setShowAnswer(false);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8">
      <div className="max-w-4xl mx-auto">
        {/* Header */}
        <div className="text-center mb-8 animate-fade-in">
          <div className="flex items-center justify-center gap-3 mb-4">
            <BookOpen className="w-10 h-10 text-purple-300" />
            <h1 className="text-4xl font-bold text-white">
              Simulation-Based Learning
            </h1>
          </div>
          <p className="text-purple-200 text-lg"> مراجعة غيث للشفوي</p>
          <p className="text-purple-300 mt-2">
            Card {currentCard + 1} of {flashcards.length}
          </p>
        </div>

        {/* Progress Bar */}
        <div className="w-full bg-gray-700 rounded-full h-2 mb-8">
          <div
            className="bg-gradient-to-r from-purple-400 to-pink-400 h-2 rounded-full transition-all duration-500"
            style={{ width: `${((currentCard + 1) / flashcards.length) * 100}%` }}
          ></div>
        </div>

        {/* Flashcard */}
        <div className="perspective-1000 mb-8">
          <div
            className={`relative w-full h-96 transition-transform duration-500 transform-style-3d cursor-pointer ${
              isFlipped ? 'rotate-y-180' : ''
            }`}
            onClick={handleFlip}
          >
            {/* Front of Card */}
            <div
              className={`absolute w-full h-full backface-hidden rounded-2xl shadow-2xl bg-gradient-to-br ${flashcards[currentCard].color} p-8 flex items-center justify-center`}
            >
              <div className="text-center">
                <div className="text-white text-sm font-semibold mb-4 bg-black bg-opacity-30 rounded-full px-4 py-2 inline-block">
                  QUESTION
                </div>
                <p className="text-white text-2xl font-semibold leading-relaxed">
                  {flashcards[currentCard].question}
                </p>
                <p className="text-white text-sm mt-6 opacity-75">
                  Click to reveal answer
                </p>
              </div>
            </div>

            {/* Back of Card */}
            <div
              className={`absolute w-full h-full backface-hidden rounded-2xl shadow-2xl bg-gradient-to-br ${flashcards[currentCard].color} p-8 flex items-center justify-center rotate-y-180`}
            >
              <div className="text-center overflow-y-auto max-h-full">
                <div className="text-white text-sm font-semibold mb-4 bg-black bg-opacity-30 rounded-full px-4 py-2 inline-block">
                  ANSWER
                </div>
                <p className="text-white text-lg leading-relaxed whitespace-pre-line">
                  {showAnswer ? flashcards[currentCard].answer : ''}
                </p>
                <p className="text-white text-sm mt-6 opacity-75">
                  Click to flip back
                </p>
              </div>
            </div>
          </div>
        </div>

        {/* Controls */}
        <div className="flex items-center justify-center gap-4">
          <button
            onClick={handlePrev}
            className="bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-4 transition-all duration-300 transform hover:scale-110"
          >
            <ChevronLeft className="w-6 h-6" />
          </button>

          <button
            onClick={handleReset}
            className="bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-4 transition-all duration-300 transform hover:scale-110"
          >
            <RotateCcw className="w-6 h-6" />
          </button>

          <button
            onClick={handleNext}
            className="bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full p-4 transition-all duration-300 transform hover:scale-110"
          >
            <ChevronRight className="w-6 h-6" />
          </button>
        </div>

        {/* Instructions */}
        <div className="mt-8 text-center text-purple-200 text-sm">
          <p> ممكن تعيد الأسئله كلها من الأول •  إتكي علي البطاقه عشان تشوف البطاقه •  إستخدم الأزار للتنقل •  </p>
        </div>
      </div>

      <style jsx>{`
        .perspective-1000 {
          perspective: 1000px;
        }
        .transform-style-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `}</style>
    </div>
  );
};

export default FlashcardApp;
